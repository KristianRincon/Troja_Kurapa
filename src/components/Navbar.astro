---
// Importaciones o configuraciones de Astro (si las necesitas)
---

<div>
  <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
</div>

<nav class="bg-green-900 text-white p-3">
  <div class="container mx-auto flex justify-between items-center">
    <h1 class="text-lg font-bold">Troja Kurapa</h1>

    <!-- Botón de hamburguesa (visible solo en móviles) -->
    <button id="menu-btn" class="md:hidden p-2 focus:outline-none">
      <ion-icon name="menu" class="text-2xl"></ion-icon>
    </button>

    <!-- Menú (visible en desktop, oculto en móviles) -->
    <ul id="mobile-menu" class="hidden md:flex flex-col md:flex-row w-full md:w-auto absolute md:static top-16 left-0 bg-green-900 md:bg-transparent text-center md:text-left">
      <li class="hover:bg-green-800 md:hover:bg-transparent">
        <a href="#inicio" class="block py-2 px-4 hover:underline">Inicio</a>
      </li>
      <li class="hover:bg-green-800 md:hover:bg-transparent">
        <a href="#productos" class="block py-2 px-4 hover:underline">Productos</a>
      </li>
      <li class="hover:bg-green-800 md:hover:bg-transparent">
        <a href="#ubicacion" class="block py-2 px-4 hover:underline">Ubicación</a>
      </li>
      <li class="hover:bg-green-800 md:hover:bg-transparent">
        <a href="#contacto" class="block py-2 px-4 hover:underline">Contacto</a>
      </li>
    </ul>
  </div>
</nav>

<script>
  // Asegúrate de que el script se ejecute después de que el DOM esté cargado
  document.addEventListener('DOMContentLoaded', () => {
    const menuBtn = document.getElementById('menu-btn');
    const mobileMenu = document.getElementById('mobile-menu');

    if (menuBtn && mobileMenu) {
      menuBtn.addEventListener('click', () => {
        // Alternar la visibilidad del menú móvil
        mobileMenu.classList.toggle('hidden');

        // Cambiar el ícono de "menu" a "close" y viceversa
        const icon = menuBtn.querySelector('ion-icon');
        if (icon) {
          if (icon.getAttribute('name') === 'menu') {
            icon.setAttribute('name', 'close');
          } else {
            icon.setAttribute('name', 'menu');
          }
        }
      });
    }
  });
</script>